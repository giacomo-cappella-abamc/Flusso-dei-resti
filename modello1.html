<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <!-- QUESTA RIGA SOTTO RISOLVE IL PRIMO ERRORE DI DENSITÃ€ PIXEL -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Visualizzatore 3D | Flusso dei resti</title>
    
    <!-- FONTS & ICONS -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    
    <!-- SCRIPT MODEL VIEWER (Versione 3.5.0 STABILE) -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>

    <style>
        :root {
            --bg-body: #ffffff;
            --text-main: #000000;
            --accent: #ff6b00;
            --border: #e0e0e0;
        }
        body.dark-mode {
            --bg-body: #121212;
            --text-main: #ffffff;
            --accent: #ff8c00;
            --border: #333333;
        }

        body { 
            font-family: 'Montserrat', sans-serif; 
            background: var(--bg-body); 
            color: var(--text-main); 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            height: 100vh; 
            overflow: hidden; 
        }

        header { 
            padding: 15px 20px; 
            border-bottom: 1px solid var(--border); 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: var(--bg-body);
        }
        
        .back-link { 
            text-decoration: none; color: var(--text-main); 
            font-weight: 600; display: flex; align-items: center; gap: 5px; 
        }
        .back-link:hover { color: var(--accent); }
        
        h1 { font-size: 1.1rem; margin: 0; font-weight: 700; }

        .viewer-container { 
            flex-grow: 1; position: relative; background: #f0f0f0; 
        }
        body.dark-mode .viewer-container { background: #222; }
        
        model-viewer { width: 100%; height: 100%; }
        
        .theme-btn { background: none; border: none; cursor: pointer; color: var(--text-main); }
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="back-link">
            <span class="material-symbols-outlined">arrow_back</span> Home
        </a>
        <h1>Reperto 01</h1>
        <button class="theme-btn" id="toggleTheme"><span class="material-symbols-outlined">contrast</span></button>
    </header>

    <div class="viewer-container">
        <!-- 
           IMPORTANTE: Sostituisci il link qui sotto con quello copiato da GitHub Releases 
           che inizia con https://github.com/.../releases/download/...
        -->
        <model-viewer 
            src="1-v1(4).glb" 
            alt="Modello 3D" 
            auto-rotate 
            camera-controls 
            shadow-intensity="1" 
            exposure="1">
        </model-viewer>
    </div>

    <script>
        const btn = document.getElementById('toggleTheme');
        const body = document.body;
        if(localStorage.getItem('theme') === 'dark') body.classList.add('dark-mode');
        
        btn.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            localStorage.setItem('theme', body.classList.contains('dark-mode') ? 'dark' : 'light');
        });
    </script>
</body>
</html>
